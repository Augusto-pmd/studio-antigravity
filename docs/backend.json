{
  "entities": {
    "UserProfile": {
      "title": "User Profile",
      "type": "object",
      "description": "Represents a user of the PMD Manager application.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the UserProfile entity, matches Firebase Auth UID."
        },
        "role": {
          "type": "string",
          "description": "The role of the user (Direction, Supervisor, Administration, Operator)."
        },
        "email": {
          "type": "string",
          "description": "The email address of the user.",
          "format": "email"
        },
        "fullName": {
          "type": "string",
          "description": "The full name of the user."
        }
      },
      "required": ["id", "role", "email", "fullName"]
    },
    "Employee": {
      "title": "Employee",
      "type": "object",
      "description": "Represents a worker in a project. Can be a direct employee or a contractor.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the Employee."
        },
        "name": {
          "type": "string",
          "description": "Full name of the employee."
        },
        "status": {
          "type": "string",
          "description": "The current status of the employee.",
          "enum": ["Activo", "Inactivo"]
        },
        "paymentType": {
          "type": "string",
          "description": "The payment frequency for the employee.",
          "enum": ["Diario", "Semanal"]
        },
        "category": {
          "type": "string",
          "description": "The employee's trade or category (e.g., 'Alba√±il', 'Electricista')."
        },
        "dailyWage": {
          "type": "number",
          "description": "The daily wage for the employee."
        },
        "artExpiryDate": {
          "type": "string",
          "description": "The expiration date of the employee's ART (Aseguradora de Riesgos del Trabajo).",
          "format": "date-time"
        }
      },
      "required": ["id", "name", "status", "paymentType", "category", "dailyWage"]
    },
    "AttendanceRecord": {
      "title": "Attendance Record",
      "type": "object",
      "description": "A single daily attendance record for an employee.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the attendance record."
        },
        "employeeId": {
          "type": "string",
          "description": "Reference to the Employee."
        },
        "projectId": {
          "type": "string",
          "description": "Reference to the Project."
        },
        "date": {
          "type": "string",
          "description": "The date of the attendance record.",
          "format": "date-time"
        },
        "status": {
          "type": "string",
          "description": "The attendance status.",
          "enum": ["presente", "ausente"]
        },
        "lateHours": {
          "type": "number",
          "description": "Number of hours the employee was late."
        },
        "notes": {
          "type": "string",
          "description": "Additional notes or observations."
        }
      },
      "required": ["id", "employeeId", "projectId", "date", "status"]
    },
    "CashAdvance": {
      "title": "Cash Advance",
      "type": "object",
      "description": "A cash advance given to an employee.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the cash advance."
        },
        "employeeId": {
          "type": "string",
          "description": "Reference to the Employee receiving the advance."
        },
        "projectId": {
          "type": "string",
          "description": "Reference to the Project related to the advance."
        },
        "date": {
          "type": "string",
          "description": "The date the advance was given.",
          "format": "date-time"
        },
        "amount": {
          "type": "number",
          "description": "The amount of the cash advance."
        },
        "reason": {
          "type": "string",
          "description": "The reason for the advance."
        }
      },
      "required": ["id", "employeeId", "projectId", "date", "amount"]
    },
    "Project": {
      "title": "Project",
      "type": "object",
      "description": "Represents a construction project managed within the system.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the Project entity."
        },
        "name": {
          "type": "string",
          "description": "The name of the project."
        },
        "description": {
          "type": "string",
          "description": "A brief description of the project."
        },
        "startDate": {
          "type": "string",
          "description": "The start date of the project.",
          "format": "date-time"
        },
        "endDate": {
          "type": "string",
          "description": "The planned end date of the project.",
          "format": "date-time"
        }
      },
      "required": ["id", "name", "description", "startDate", "endDate"]
    },
    "UserCash": {
      "title": "UserCash",
      "type": "object",
      "description": "Represents a user's cash account for managing expenses.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the UserCash entity."
        },
        "userProfileId": {
          "type": "string",
          "description": "Reference to UserProfile. (Relationship: UserProfile 1:1 UserCash)"
        },
        "currency": {
          "type": "string",
          "description": "The currency of the cash account (ARS or USD)."
        },
        "balance": {
          "type": "number",
          "description": "The current balance of the cash account."
        },
        "lastClosureDate": {
          "type": "string",
          "description": "The date of the last weekly closure.",
          "format": "date-time"
        }
      },
      "required": ["id", "userProfileId", "currency", "balance", "lastClosureDate"]
    },
    "Expense": {
      "title": "Expense",
      "type": "object",
      "description": "Represents an expense record.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the Expense entity."
        },
        "projectId": {
          "type": "string",
          "description": "Reference to Project. (Relationship: Project 1:N Expense)"
        },
        "date": {
          "type": "string",
          "description": "The date the expense was incurred.",
          "format": "date-time"
        },
        "supplierId": {
          "type": "string",
          "description": "Reference to Supplier. (Relationship: Supplier 1:N Expense)"
        },
        "categoryId": {
          "type": "string",
          "description": "Reference to Category. (Relationship: Category 1:N Expense)"
        },
        "amount": {
          "type": "number",
          "description": "The amount of the expense."
        },
        "receiptUrl": {
          "type": "string",
          "description": "URL of the receipt image or document.",
          "format": "uri"
        }
      },
      "required": ["id", "projectId", "date", "supplierId", "categoryId", "amount"]
    },
    "Supplier": {
      "title": "Supplier",
      "type": "object",
      "description": "Represents a supplier or vendor (contratista).",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the Supplier entity."
        },
        "name": {
          "type": "string",
          "description": "The name of the supplier."
        },
        "insuranceExpiryDate": {
          "type": "string",
          "description": "The expiration date of the supplier's insurance.",
          "format": "date-time"
        },
        "artExpiryDate": {
          "type": "string",
          "description": "The expiration date of the supplier's ART (Aseguradora de Riesgos del Trabajo).",
          "format": "date-time"
        }
      },
      "required": ["id", "name"]
    },
    "Category": {
      "title": "Category",
      "type": "object",
      "description": "Represents a category for classifying expenses.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the Category entity."
        },
        "name": {
          "type": "string",
          "description": "The name of the expense category."
        },
        "description": {
          "type": "string",
          "description": "A description of the expense category."
        }
      },
      "required": ["id", "name"]
    },
    "Contract": {
      "title": "Contract",
      "type": "object",
      "description": "Represents a contract associated with a project.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the Contract entity."
        },
        "projectId": {
          "type": "string",
          "description": "Reference to Project. (Relationship: Project 1:N Contract)"
        },
        "amount": {
          "type": "number",
          "description": "The total amount of the contract."
        },
        "balance": {
          "type": "number",
          "description": "The remaining balance of the contract."
        }
      },
      "required": ["id", "projectId", "amount", "balance"]
    }
  },
  "auth": {
    "providers": ["password", "anonymous"]
  },
  "firestore": {
    "/user-profiles/{userProfileId}": {
      "schema": { "$ref": "#/entities/UserProfile" },
      "description": "Stores user profile data. Access is restricted to the user themselves."
    },
    "/projects/{projectId}": {
      "schema": { "$ref": "#/entities/Project" },
      "description": "Stores project details. Writable only by authorized users (e.g., admins or project managers)."
    },
    "/user-profiles/{userProfileId}/cash/{cashId}": {
      "schema": { "$ref": "#/entities/UserCash" },
      "description": "Stores a user's cash balance. Only accessible by the user."
    },
    "/projects/{projectId}/expenses/{expenseId}": {
      "schema": { "$ref": "#/entities/Expense" },
      "description": "Stores expenses related to a specific project."
    },
    "/suppliers/{supplierId}": {
      "schema": { "$ref": "#/entities/Supplier" },
      "description": "Master list of suppliers/contractors."
    },
    "/categories/{categoryId}": {
      "schema": { "$ref": "#/entities/Category" },
      "description": "Master list of expense categories."
    },
    "/projects/{projectId}/contracts/{contractId}": {
      "schema": { "$ref": "#/entities/Contract" },
      "description": "Stores contracts related to a specific project."
    },
    "/employees/{employeeId}": {
      "schema": { "$ref": "#/entities/Employee" },
      "description": "Master list of all employees and individual contractors."
    },
    "/attendances/{attendanceId}": {
      "schema": { "$ref": "#/entities/AttendanceRecord" },
      "description": "Stores individual daily attendance records."
    },
    "/cash-advances/{cashAdvanceId}": {
      "schema": { "$ref": "#/entities/CashAdvance" },
      "description": "Stores individual cash advance records."
    }
  }
}

    